# 更新日志

本文档记录 OfficeGuard / 系统优化助手 的所有版本更新。

## [1.2.0] - 2025-12-18

### 恢复
- ✨ 恢复定时关机功能
- ✨ 恢复定时睡眠功能
- ✨ 完整的定时任务标签页

### 新增
- ✨ 快捷键完全自定义功能
- ✨ 设置标签页：快捷键配置界面
- ✨ 支持自定义修饰键（Ctrl/Alt/Shift）
- ✨ 支持字母键（A-Z）和功能键（F1-F12）
- ✨ 实时预览快捷键组合
- ✨ 快捷键保存和热重载

### 优化
- 🚀 三标签页布局：定时任务、系统优化、设置
- 🚀 快捷键显示动态更新
- 🚀 更直观的设置界面

### 修复
- 🐛 修复快捷键硬编码问题
- 🐛 优化快捷键检测逻辑

---

## [1.1.0] - 2025-12-18

### 新增
- ✨ 系统托盘功能：程序默认隐藏到托盘运行
- ✨ 全局快捷键：Ctrl+Alt+L 系统级快速优化
- ✨ 托盘菜单：进入、快捷键开关、关闭三大功能
- ✨ 快捷键开关：可通过托盘菜单启用/禁用快捷键

### 优化
- 🚀 精简UI界面，移除定时任务标签页
- 🚀 迷惑性表述：所有文本改为系统优化相关
- 🚀 静默恢复：优化完成后不再弹出提示窗口
- 🚀 窗口管理：关闭窗口改为隐藏到托盘
- 🚀 启动逻辑：程序启动后自动隐藏

### 修复
- 🐛 修复窗口关闭直接退出的问题
- 🐛 优化托盘图标显示效果

### 技术
- 🔧 新增依赖：pystray, Pillow
- 🔧 重构窗口管理逻辑
- 🔧 实现全局Hook快捷键

---

## [1.0.1] - 2025-12-10

### 新增
- ✨ UI 自动重置功能：执行完定时任务后，UI 自动恢复初始状态
- ✨ 密码显示/隐藏切换：密码输入框支持星号隐藏，新增眼睛按钮切换显示/隐藏

### 优化
- 🚀 改善用户体验，执行后 UI 更清爽
- 🚀 提高密码输入安全性，默认隐藏密码显示

### 修复
- 🐛 修复执行完操作后 UI 状态混乱的问题

---

## [1.0.0] - 2025-12-10

### 新增
- ✨ 首次运行引导界面，友好的用户体验
- ✨ 完整的日志记录系统，支持日志轮转（5MB x 4份）
- ✨ 数据自动保存到 AppData 目录
- ✨ 支持打包为独立 exe，无需 Python 环境
- ✨ 定时关机/睡眠功能
- ✨ 系统锁定功能（内核级键鼠屏蔽）
- ✨ 智能缓冲期，移动鼠标取消任务
- ✨ 窗口位置和大小自动记忆

### 优化
- 🚀 优化 exe 打包适配，完美支持 PyInstaller
- 🚀 改进关机任务安全退出机制
- 🚀 优化鼠标困禁逻辑，降低 CPU 占用
- 🚀 增强键盘输入识别（支持主键盘和小键盘）
- 🚀 改进异常处理和错误日志记录
- 🚀 优化焦点循环频率，降低资源占用

### 修复
- 🐛 修复配置文件保存失败问题
- 🐛 修复窗口位置记忆不准确问题
- 🐛 修复多个钩子卸载异常
- 🐛 修复定时器取消不彻底问题
- 🐛 修复鼠标移动检测灵敏度问题

### 文档
- 📝 完善 README 文档
- 📝 添加构建指南
- 📝 添加贡献指南
- 📝 添加中英文双语文档

---

## 版本说明

版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范：

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

## 图例

- ✨ 新增功能
- 🚀 性能优化
- 🐛 Bug 修复
- 📝 文档更新
- 🔧 配置变更
- ⚠️ 重要提示
